(this["webpackJsonpreact-redux-blog"]=this["webpackJsonpreact-redux-blog"]||[]).push([[0],{41:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e(1),i=e(18),o=e.n(i),u=e(2),a=e(3),s=e(7),d=e(6),j=e(17),f="token",b=function(n){localStorage.setItem(f,n)},l=function(){return localStorage.getItem(f)},p="https://student-json-api.lidemy.me",x=Object(j.b)({name:"posts",initialState:{isLoadingPost:!1,post:null,posts:null,postsList:null,postNumber:0,isDeletePostSuccess:!1,newPostResponse:null,errorMessage:null},reducers:{setIsLoadingPost:function(n,t){n.isLoadingPost=t.payload},setPost:function(n,t){n.post=t.payload},setPosts:function(n,t){n.posts=t.payload},setPostsList:function(n,t){n.postsList=t.payload},setPostNumber:function(n,t){n.postNumber=t.payload},setNewPostResponse:function(n,t){n.newPostResponse=t.payload},setErrorMessage:function(n,t){n.errorMessage=t.payload},setIsDeletePostSuccess:function(n,t){n.isDeletePostSuccess=t.payload}}}),h=x.actions,O=h.setIsLoadingPost,g=h.setPost,v=h.setPosts,m=h.setPostsList,w=h.setPostNumber,y=h.setNewPostResponse,k=h.setErrorMessage,S=h.setIsDeletePostSuccess,P=function(n){return function(t){return t(O(!0)),function(n){return fetch("".concat(p,"/posts?id=").concat(n)).then((function(n){return n.json()}))}(n).then((function(n){return t(g(n)),t(O(!1)),n}))}},z=function(){return function(n){n(O(!0)),fetch("".concat(p,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(t){n(v(t)),n(O(!1))}))}},C=function(n,t){return function(e){e(O(!0)),function(n,t){return fetch("".concat(p,"/posts?_sort=createdAt&_order=desc&_limit=").concat(n,"&_page=").concat(t))}(n,t).then((function(n){return e(w(n.headers.get("x-total-count"))),n.json()})).then((function(n){e(m(n)),e(O(!1))}))}},L=function(n,t,e){return function(r){if(e)return function(n,t){var e=null;return l()&&(e=l()),fetch("".concat(p,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({title:n,body:t})}).then((function(n){return n.json()}))}(n,t).then((function(n){return 0===n.ok&&r(k(n.message.toString())),r(y(n)),n}))}},E=function(n){return function(t){return function(n){var t=l();return fetch("".concat(p,"/posts/").concat(n),{method:"DELETE",headers:{authorization:"Bearer ".concat(t)}}).catch((function(n){return console.log(n)}))}(n).then((function(){t(S(!0))}))}},M=function(n,t,e,r){return function(c){if(r)return function(n,t,e){var r=null;return l()&&(r=l()),fetch("".concat(p,"/posts/").concat(e),{method:"PATCH",headers:{"content-type":"application/json",authorization:"Bearer ".concat(r)},body:JSON.stringify({title:n,body:t})}).then((function(n){return n.json()}))}(n,t,e).then((function(n){return 0===n.ok&&c(k(n.message.toString())),c(y(n)),n}))}},D=x.reducer,N=e(4);function I(){var n=Object(u.a)(["\n  display: flex;\n  position: fixed;\n  justify-content: center;\n  top: 64px;\n  left: 50%;\n  right: 50%;\n  font-size: 24px;\n  background: black;\n  color: white;\n  width: 120px;\n"]);return I=function(){return n},n}function T(){var n=Object(u.a)([""]);return T=function(){return n},n}function $(){var n=Object(u.a)([""]);return $=function(){return n},n}function A(){var n=Object(u.a)(["\n  color: rgba(0, 0, 0, 0.2);\n"]);return A=function(){return n},n}function B(){var n=Object(u.a)(["\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n"]);return B=function(){return n},n}function J(){var n=Object(u.a)(["\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n"]);return J=function(){return n},n}function _(){var n=Object(u.a)(["\n  max-width: 800px;\n  margin: 0 auto;\n"]);return _=function(){return n},n}var R=a.a.div(_()),U=a.a.div(J()),F=Object(a.a)(s.b)(B()),H=a.a.div(A()),q=a.a.button($()),G=a.a.button(T()),K=a.a.div(I());function Q(n){var t=n.post,e=n.user,c=n.dispatch;return Object(r.jsxs)(U,{children:[Object(r.jsx)(F,{to:"/post/".concat(t.id),children:t.title}),Object(r.jsxs)("div",{children:[e&&e.id===t.userId&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.b,{to:"/edit-post/".concat(t.id),children:Object(r.jsx)(q,{children:"\u7de8\u8f2f"})}),Object(r.jsx)(G,{onClick:function(){c(E(t.id))},children:"\u522a\u9664"})]}),Object(r.jsx)(H,{children:new Date(t.createdAt).toLocaleString()})]})]})}function V(){var n=Object(N.b)(),t=Object(N.c)((function(n){return n.posts.isLoadingPost})),e=Object(N.c)((function(n){return n.posts.posts})),i=Object(N.c)((function(n){return n.users.user})),o=Object(N.c)((function(n){return n.posts.isDeletePostSuccess}));return Object(c.useEffect)((function(){n(z()),n(S(!1))}),[n,o]),Object(r.jsxs)(R,{children:[t&&Object(r.jsx)(K,{children:"Loading..."}),e&&e.map((function(t){return Object(r.jsx)(Q,{post:t,user:i,dispatch:n},t.id)}))]})}var W=e(8),X=Object(j.b)({name:"users",initialState:{user:null,errorMessage:null},reducers:{setUser:function(n,t){n.user=t.payload},setErrorMessage:function(n,t){n.errorMessage=t.payload}}}),Y=X.actions,Z=Y.setUser,nn=Y.setErrorMessage,tn=function(n,t,e){return function(r){return function(n,t,e){return fetch("".concat(p,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:t,password:e})}).then((function(n){return n.json()}))}(n,t,e).then((function(n){if(0===n.ok)return r(nn(n.message));b(n.token)}))}},en=function(n,t){return function(e){return function(n,t){return fetch("".concat(p,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(n){return n.json()}))}(n,t).then((function(n){if(0===n.ok)return e(nn(n.message));b(n.token)}))}},rn=function(){return function(n){return function(){var n=l();return fetch("".concat(p,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))}().then((function(t){return 1===t.ok?(n(Z(t.data)),t):(b(null),n(nn(t.toString())),t)}))}},cn=X.reducer;function on(){var n=Object(u.a)(["\n  color: red;\n"]);return on=function(){return n},n}function un(){var n=Object(u.a)(["\n  width: 92px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: black;\n  color: white;\n  font-size: 15px;\n  margin-top: 20px;\n"]);return un=function(){return n},n}function an(){var n=Object(u.a)(["\n  border: solid 1px #d0d0d0;\n  width: 287px;\n  height: 23px;\n  margin: 10px 20px;\n"]);return an=function(){return n},n}function sn(){var n=Object(u.a)(["\n  font-size: 36px;\n  text-align: center;\n"]);return sn=function(){return n},n}function dn(){var n=Object(u.a)(["\n  width: 450px;\n  height: 300px;\n  padding: 60px;\n  border: solid 1px #000000;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return dn=function(){return n},n}function jn(){var n=Object(u.a)(["\n  margin: 100px auto;\n  width: 550px;\n}\n"]);return jn=function(){return n},n}var fn=a.a.div(jn()),bn=a.a.form(dn()),ln=a.a.h1(sn()),pn=a.a.input(an()),xn=a.a.button(un()),hn=a.a.div(on());function On(){var n=Object(c.useState)(""),t=Object(W.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(W.a)(o,2),a=u[0],s=u[1],j=Object(d.f)(),f=Object(N.b)(),b=Object(N.c)((function(n){return n.users.errorMessage}));return Object(r.jsx)(fn,{children:Object(r.jsxs)(bn,{onSubmit:function(){f(nn(null)),f(en(e,a)).then((function(){l()&&f(rn()).then((function(n){if(1===n.ok)return j.push("/")}))}))},children:[Object(r.jsx)(ln,{children:"\u767b\u5165"}),Object(r.jsxs)("div",{children:["Username:",Object(r.jsx)(pn,{value:e,onChange:function(n){return i(n.target.value)}})]}),Object(r.jsxs)("div",{children:["Password:",Object(r.jsx)(pn,{type:"password",value:a,onChange:function(n){return s(n.target.value)}})]}),Object(r.jsx)(xn,{children:"\u767b\u5165"}),b&&Object(r.jsx)(hn,{children:b})]})})}function gn(){var n=Object(u.a)(["\n  color: red;\n"]);return gn=function(){return n},n}function vn(){var n=Object(u.a)(["\n  width: 92px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: black;\n  color: white;\n  font-size: 15px;\n  margin-top: 20px;\n"]);return vn=function(){return n},n}function mn(){var n=Object(u.a)(["\n  border: solid 1px #d0d0d0;\n  width: 287px;\n  height: 23px;\n  margin: 10px 20px;\n"]);return mn=function(){return n},n}function wn(){var n=Object(u.a)(["\n  font-size: 36px;\n  text-align: center;\n"]);return wn=function(){return n},n}function yn(){var n=Object(u.a)(["\n  width: 450px;\n  height: 300px;\n  padding: 60px;\n  border: solid 1px #000000;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return yn=function(){return n},n}function kn(){var n=Object(u.a)(["\n  margin: 100px auto;\n  width: 550px;\n}\n"]);return kn=function(){return n},n}var Sn=a.a.div(kn()),Pn=a.a.form(yn()),zn=a.a.h1(wn()),Cn=a.a.input(mn()),Ln=a.a.button(vn()),En=a.a.div(gn());function Mn(){var n=Object(c.useState)(""),t=Object(W.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(W.a)(o,2),a=u[0],s=u[1],j=Object(c.useState)(""),f=Object(W.a)(j,2),b=f[0],p=f[1],x=Object(d.f)(),h=Object(N.b)(),O=Object(N.c)((function(n){return n.users.errorMessage}));return Object(r.jsx)(Sn,{children:Object(r.jsxs)(Pn,{onSubmit:function(){nn(null),h(tn(e,a,b)).then((function(){l()&&h(rn()).then((function(n){if(1===n.ok)return x.push("/")}))}))},children:[Object(r.jsx)(zn,{children:"\u8a3b\u518a"}),Object(r.jsxs)("div",{children:["Username:",Object(r.jsx)(Cn,{value:a,onChange:function(n){return s(n.target.value)}})]}),Object(r.jsxs)("div",{children:["Password:",Object(r.jsx)(Cn,{type:"password",value:b,onChange:function(n){return p(n.target.value)}})]}),Object(r.jsxs)("div",{children:["Nickname:",Object(r.jsx)(Cn,{value:e,onChange:function(n){return i(n.target.value)}})]}),Object(r.jsx)(Ln,{children:"\u8a3b\u518a"}),O&&Object(r.jsx)(En,{children:O})]})})}function Dn(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  "," {\n    margin-left: 64px;\n  }\n"]);return Dn=function(){return n},n}function Nn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n"]);return Nn=function(){return n},n}function In(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  height: 64px;\n"]);return In=function(){return n},n}function Tn(){var n=Object(u.a)(["\n  font-size: 28px;\n  color: black;\n  text-decoration: none;\n  font-weight: bold;\n"]);return Tn=function(){return n},n}function $n(){var n=Object(u.a)(["\n  background: white;\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 0 32px;\n"]);return $n=function(){return n},n}var An=a.a.div($n()),Bn=Object(a.a)(s.b)(Tn()),Jn=a.a.div(In()),_n=Object(a.a)(s.b)(Nn(),(function(n){return n.$active&&"background: rgba(0, 0, 0, 0.1);"})),Rn=a.a.div(Dn(),Jn);function Un(){var n=Object(d.g)(),t=Object(d.f)(),e=Object(N.b)(),i=Object(N.c)((function(n){return n.users.user}));return Object(c.useEffect)((function(){e(rn())}),[e]),Object(r.jsxs)(An,{children:[Object(r.jsxs)(Rn,{children:[Object(r.jsx)(Bn,{to:"/",$active:"/"===n.pathname,children:"Derek's Blog"}),Object(r.jsxs)(Jn,{children:[Object(r.jsx)(_n,{to:"/post-list",$active:"/post-list"===n.pathname,children:"\u6587\u7ae0\u5217\u8868"}),i&&Object(r.jsx)(_n,{to:"/new-post",$active:"/new-post"===n.pathname,children:"\u767c\u5e03\u6587\u7ae0"}),Object(r.jsx)(_n,{to:"/about",$active:"/about"===n.pathname,children:"\u95dc\u65bc\u6211"})]})]}),Object(r.jsxs)(Jn,{children:[Object(r.jsx)(_n,{to:"/register",$active:"/register"===n.pathname,children:"\u8a3b\u518a"}),!i&&Object(r.jsx)(_n,{to:"/login",$active:"/login"===n.pathname,children:"\u767b\u5165"}),i&&Object(r.jsx)(_n,{onClick:function(){b(""),e(Z(null)),"/"!==n.pathname&&t.push("/")},children:"\u767b\u51fa"})]})]})}function Fn(){var n=Object(u.a)(["\n  display: flex;\n  position: fixed;\n  justify-content: center;\n  top: 64px;\n  left: 50%;\n  right: 50%;\n  font-size: 24px;\n  background: black;\n  color: white;\n  width: 120px;\n"]);return Fn=function(){return n},n}function Hn(){var n=Object(u.a)([""]);return Hn=function(){return n},n}function qn(){var n=Object(u.a)([""]);return qn=function(){return n},n}function Gn(){var n=Object(u.a)([""]);return Gn=function(){return n},n}function Kn(){var n=Object(u.a)(["\n  color: rgba(0, 0, 0, 0.2);\n"]);return Kn=function(){return n},n}function Qn(){var n=Object(u.a)(["\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n"]);return Qn=function(){return n},n}function Vn(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 20px;\n"]);return Vn=function(){return n},n}function Wn(){var n=Object(u.a)(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return Wn=function(){return n},n}function Xn(){var n=Object(u.a)(["\n  max-width: 800px;\n  margin: 64px auto;\n"]);return Xn=function(){return n},n}var Yn=a.a.div(Xn()),Zn=a.a.div(Wn()),nt=a.a.div(Vn()),tt=a.a.div(Qn()),et=a.a.div(Kn()),rt=a.a.button(Gn()),ct=a.a.button(qn()),it=a.a.div(Hn()),ot=a.a.div(Fn());function ut(n){var t=n.post,e=n.user,c=n.dispatch,i=n.history;return Object(r.jsxs)(Zn,{children:[Object(r.jsxs)(nt,{children:[Object(r.jsx)(tt,{children:t.title}),Object(r.jsxs)("div",{children:[e&&e.id===t.userId&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.b,{to:"/edit-post/".concat(t.id),children:Object(r.jsx)(rt,{children:"\u7de8\u8f2f"})}),Object(r.jsx)(ct,{onClick:function(){c(E(t.id)).then((function(){i.push("/")}))},children:"\u522a\u9664"})]}),Object(r.jsx)(et,{children:new Date(t.createdAt).toLocaleString()})]})]}),Object(r.jsx)(it,{children:t.body})]})}function at(){var n=Object(d.h)().id,t=Object(d.f)(),e=Object(N.b)(),i=Object(N.c)((function(n){return n.posts.isLoadingPost})),o=Object(N.c)((function(n){return n.posts.post})),u=Object(N.c)((function(n){return n.users.user})),a=Object(N.c)((function(n){return n.posts.isDeletePostSuccess}));return Object(c.useEffect)((function(){e(rn()),e(P(n)),e(S(!1))}),[n,e,a]),Object(r.jsxs)(Yn,{children:[i&&Object(r.jsx)(ot,{children:"Loading..."}),o&&o.map((function(n,c){return Object(r.jsx)(ut,{post:n,user:u,dispatch:e,history:t},c)}))]})}function st(){var n=Object(u.a)(["\n  color: red;\n"]);return st=function(){return n},n}function dt(){var n=Object(u.a)(["\n  width: 92px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: black;\n  color: white;\n  font-size: 15px;\n  margin-top: 20px;\n"]);return dt=function(){return n},n}function jt(){var n=Object(u.a)(["\n  border: solid 1px #d0d0d0;\n  margin: 10px 20px;\n"]);return jt=function(){return n},n}function ft(){var n=Object(u.a)(["\n  border: solid 1px #d0d0d0;\n  width: 287px;\n  height: 23px;\n  margin: 10px 20px;\n"]);return ft=function(){return n},n}function bt(){var n=Object(u.a)(["\n  display: flex;\n  \n"]);return bt=function(){return n},n}function lt(){var n=Object(u.a)(["\n  font-size: 36px;\n  text-align: center;\n"]);return lt=function(){return n},n}function pt(){var n=Object(u.a)(["\n  width: 450px;\n  height: 400px;\n  padding: 60px;\n  border: solid 1px #000000;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return pt=function(){return n},n}function xt(){var n=Object(u.a)(["\n  margin: 100px auto;\n  width: 550px;\n"]);return xt=function(){return n},n}var ht=a.a.div(xt()),Ot=a.a.form(pt()),gt=a.a.h1(lt()),vt=a.a.div(bt()),mt=a.a.input(ft()),wt=a.a.textarea(jt()),yt=a.a.button(dt()),kt=a.a.div(st());function St(){var n=Object(c.useState)(""),t=Object(W.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(""),u=Object(W.a)(o,2),a=u[0],s=u[1],j=Object(d.f)(),f=Object(N.b)(),b=Object(N.c)((function(n){return n.posts.errorMessage})),l=Object(N.c)((function(n){return n.users.user}));return Object(c.useEffect)((function(){f(rn()).then((function(n){1!==n.ok&&j.push("/")}))}),[f,j]),Object(r.jsx)(ht,{children:Object(r.jsxs)(Ot,{onSubmit:function(){f(k(null)),f(L(e,a,l)).then((function(n){n&&n.id&&j.push("/post/"+n.id)}))},children:[Object(r.jsx)(gt,{children:"\u65b0\u589e\u6587\u7ae0"}),Object(r.jsxs)("div",{children:["Title:",Object(r.jsx)(mt,{value:e,onChange:function(n){return i(n.target.value)}})]}),Object(r.jsxs)(vt,{children:["Content:",Object(r.jsx)(wt,{cols:"33",rows:"12",value:a,onChange:function(n){return s(n.target.value)}})]}),Object(r.jsx)(yt,{children:"\u767c\u5e03"}),b&&Object(r.jsx)(kt,{children:b})]})})}function Pt(){var n=Object(u.a)(["\n  display: flex;\n  position: fixed;\n  justify-content: center;\n  top: 64px;\n  left: 50%;\n  right: 50%;\n  font-size: 24px;\n  background: black;\n  color: white;\n  width: 120px;\n"]);return Pt=function(){return n},n}function zt(){var n=Object(u.a)([""]);return zt=function(){return n},n}function Ct(){var n=Object(u.a)(['\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: ">>";\n  }\n']);return Ct=function(){return n},n}function Lt(){var n=Object(u.a)(['\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: ">";\n  }\n']);return Lt=function(){return n},n}function Et(){var n=Object(u.a)(['\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: "<";\n  }\n']);return Et=function(){return n},n}function Mt(){var n=Object(u.a)(['\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: "<<";\n  }\n']);return Mt=function(){return n},n}function Dt(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n"]);return Dt=function(){return n},n}function Nt(){var n=Object(u.a)(["\n  color: rgba(0, 0, 0, 0.2);\n"]);return Nt=function(){return n},n}function It(){var n=Object(u.a)([""]);return It=function(){return n},n}function Tt(){var n=Object(u.a)([""]);return Tt=function(){return n},n}function $t(){var n=Object(u.a)(["\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n"]);return $t=function(){return n},n}function At(){var n=Object(u.a)(["\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n"]);return At=function(){return n},n}function Bt(){var n=Object(u.a)(["\n  max-width: 800px;\n  margin: 0 auto;\n"]);return Bt=function(){return n},n}var Jt=a.a.div(Bt()),_t=a.a.div(At()),Rt=Object(a.a)(s.b)($t()),Ut=a.a.button(Tt()),Ft=a.a.button(It()),Ht=a.a.div(Nt()),qt=a.a.div(Dt()),Gt=a.a.div(Mt()),Kt=a.a.div(Et()),Qt=a.a.div(Lt()),Vt=a.a.div(Ct()),Wt=a.a.div(zt()),Xt=a.a.div(Pt());function Yt(n){var t=n.post,e=n.user,c=n.dispatch;return Object(r.jsxs)(_t,{children:[Object(r.jsx)(Rt,{to:"/post/".concat(t.id),children:t.title}),Object(r.jsxs)("div",{children:[e&&e.id===t.userId&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.b,{to:"/edit-post/".concat(t.id),children:Object(r.jsx)(Ut,{children:"\u7de8\u8f2f"})}),Object(r.jsx)(Ft,{onClick:function(){c(E(t.id))},children:"\u522a\u9664"})]}),Object(r.jsx)(Ht,{children:new Date(t.createdAt).toLocaleString()})]})]})}function Zt(n){var t=n.page,e=n.setPage,c=n.totalPages;function i(n){"home"===n?e(1):"end"===n?e(c):"pageup"===n&&t>1?e(t-1):"pagedown"===n&&t<c&&e(t+1)}return Object(r.jsxs)(qt,{children:[Object(r.jsx)(Gt,{onClick:function(){return i("home")}}),Object(r.jsx)(Kt,{onClick:function(){return i("pageup")}}),Object(r.jsxs)(Wt,{children:[t," / ",c]}),Object(r.jsx)(Qt,{onClick:function(){return i("pagedown")}}),Object(r.jsx)(Vt,{onClick:function(){return i("end")}})]})}function ne(){var n=Object(c.useState)(1),t=Object(W.a)(n,2),e=t[0],i=t[1],o=Object(N.b)(),u=Object(N.c)((function(n){return n.posts.isLoadingPost})),a=Object(N.c)((function(n){return n.posts.postNumber})),s=Object(N.c)((function(n){return n.posts.postsList})),d=Object(N.c)((function(n){return n.users.user})),j=Object(N.c)((function(n){return n.posts.isDeletePostSuccess})),f=Math.ceil(a/5);return Object(c.useEffect)((function(){o(C(5,e)),o(S(!1))}),[e,o,j]),Object(r.jsxs)(Jt,{children:[u&&Object(r.jsx)(Xt,{children:"Loading..."}),s&&s.map((function(n){return Object(r.jsx)(Yt,{post:n,user:d,dispatch:o},n.id)})),!u&&Object(r.jsx)(Zt,{page:e,setPage:i,totalPages:f})]})}function te(){var n=Object(u.a)([""]);return te=function(){return n},n}function ee(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 20px;\n  font-size: 24px;\n"]);return ee=function(){return n},n}function re(){var n=Object(u.a)(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return re=function(){return n},n}function ce(){var n=Object(u.a)(["\n  max-width: 800px;\n  margin: 64px auto;\n"]);return ce=function(){return n},n}var ie=a.a.div(ce()),oe=a.a.div(re()),ue=a.a.div(ee()),ae=a.a.div(te());function se(){return Object(r.jsx)(ie,{children:Object(r.jsxs)(oe,{children:[Object(r.jsx)(ue,{children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(ae,{children:"\u5927\u5bb6\u597d\uff0c\u6b61\u8fce\u4f86\u5230\u6211\u7684\u90e8\u843d\u683c"})]})})}function de(){var n=Object(u.a)(["\n  color: red;\n"]);return de=function(){return n},n}function je(){var n=Object(u.a)(["\n  width: 92px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: black;\n  color: white;\n  font-size: 15px;\n  margin-top: 20px;\n"]);return je=function(){return n},n}function fe(){var n=Object(u.a)(["\n  border: solid 1px #d0d0d0;\n  margin: 10px 20px;\n"]);return fe=function(){return n},n}function be(){var n=Object(u.a)(["\n  border: solid 1px #d0d0d0;\n  width: 287px;\n  height: 23px;\n  margin: 10px 20px;\n"]);return be=function(){return n},n}function le(){var n=Object(u.a)(["\n  display: flex;\n  \n"]);return le=function(){return n},n}function pe(){var n=Object(u.a)(["\n  font-size: 36px;\n  text-align: center;\n"]);return pe=function(){return n},n}function xe(){var n=Object(u.a)(["\n  width: 450px;\n  height: 400px;\n  padding: 60px;\n  border: solid 1px #000000;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return xe=function(){return n},n}function he(){var n=Object(u.a)(["\n  margin: 100px auto;\n  width: 550px;\n"]);return he=function(){return n},n}var Oe=a.a.div(he()),ge=a.a.form(xe()),ve=a.a.h1(pe()),me=a.a.div(le()),we=a.a.input(be()),ye=a.a.textarea(fe()),ke=a.a.button(je()),Se=a.a.div(de());function Pe(){var n=Object(d.h)().id,t=Object(c.useState)(""),e=Object(W.a)(t,2),i=e[0],o=e[1],u=Object(c.useState)(""),a=Object(W.a)(u,2),s=a[0],j=a[1],f=Object(d.f)(),b=Object(N.b)(),l=Object(N.c)((function(n){return n.posts.errorMessage})),p=Object(N.c)((function(n){return n.users.user}));return Object(c.useEffect)((function(){b(P(n)).then((function(n){o(n[0].title),j(n[0].body)}))}),[b,n]),Object(r.jsx)(Oe,{children:Object(r.jsxs)(ge,{onSubmit:function(){b(k(null)),b(M(i,s,n,p)).then((function(n){n&&n.id&&f.push("/post/"+n.id)}))},children:[Object(r.jsx)(ve,{children:"\u7de8\u8f2f\u6587\u7ae0"}),Object(r.jsxs)("div",{children:["Title:",Object(r.jsx)(we,{value:i,onChange:function(n){return o(n.target.value)}})]}),Object(r.jsxs)(me,{children:["Content:",Object(r.jsx)(ye,{cols:"33",rows:"12",value:s,onChange:function(n){return j(n.target.value)}})]}),Object(r.jsx)(ke,{children:"\u767c\u5e03"}),l&&Object(r.jsx)(Se,{children:l})]})})}function ze(){var n=Object(u.a)(["\n  padding-top: 64px;\n"]);return ze=function(){return n},n}var Ce=a.a.div(ze());var Le=function(){return Object(r.jsx)(Ce,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(Un,{}),Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",children:Object(r.jsx)(V,{})}),Object(r.jsx)(d.a,{path:"/register",children:Object(r.jsx)(Mn,{})}),Object(r.jsx)(d.a,{path:"/login",children:Object(r.jsx)(On,{})}),Object(r.jsx)(d.a,{path:"/post-list",children:Object(r.jsx)(ne,{})}),Object(r.jsx)(d.a,{path:"/post/:id",children:Object(r.jsx)(at,{})}),Object(r.jsx)(d.a,{path:"/new-post",children:Object(r.jsx)(St,{})}),Object(r.jsx)(d.a,{path:"/about",children:Object(r.jsx)(se,{})}),Object(r.jsx)(d.a,{path:"/edit-post/:id",children:Object(r.jsx)(Pe,{})})]})]})})},Ee=Object(j.a)({reducer:{posts:D,users:cn}});o.a.render(Object(r.jsx)(N.a,{store:Ee,children:Object(r.jsx)(Le,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.251ab68e.chunk.js.map